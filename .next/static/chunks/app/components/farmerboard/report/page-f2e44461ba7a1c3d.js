(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2072],{19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:l?24*Number(n)/Number(s):n,className:o("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...d}=r;return(0,a.createElement)(c,{ref:n,iconNode:t,className:o("lucide-".concat(s(l(e))),"lucide-".concat(e),i),...d})});return r.displayName=l(e),r}},29300:(e,t)=>{var r;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=n(t,r));return t}(r)))}return e}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0!==(r=(function(){return s}).apply(t,[]))&&(e.exports=r)}()},35330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(95155),s=r(12115),n=r(57434),l=r(19946);let o=(0,l.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),i=(0,l.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var c=r(94553),d=r(23464),u=r(60668),m=r(91867);function p(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[p,h]=(0,s.useState)([]),[f,x]=(0,s.useState)(""),[v,y]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),k=(0,c.b)();(0,s.useEffect)(()=>{(async()=>{h((await d.A.get("".concat(u.M,"/farmer/get_inspectors"),{headers:{Authorization:"Bearer ".concat(k)}})).data.inspectors)})()},[k]);let w=async t=>{if(t.preventDefault(),y(!0),f||alert("please, select inspector Type"),!e.trim()){N("Please enter a report title");return}if(!r.trim()){N("Please enter report content");return}alert((await d.A.post("".concat(u.M,"/farmer_notify_inspector/").concat(f),{reportTitle:e,reportContent:r},{headers:{Authorization:"Bearer ".concat(k)}})).data.msg),window.location.href="/components/farmerboard"};return(0,a.jsx)("div",{className:"container py-4",children:(0,a.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,a.jsx)("div",{className:"card-header bg-white py-3",children:(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsx)(n.A,{size:20,className:"text-primary me-2"}),(0,a.jsx)("h5",{className:"mb-0",children:"Create New Report"})]})}),(0,a.jsxs)("div",{className:"card-body",children:[g&&(0,a.jsxs)("div",{className:"alert alert-success d-flex align-items-center",role:"alert",children:[(0,a.jsx)(o,{size:16,className:"me-2"}),(0,a.jsx)("div",{children:"Report successfully saved to database!"})]}),j&&(0,a.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,a.jsx)(i,{size:16,className:"me-2"}),(0,a.jsx)("div",{children:j})]}),(0,a.jsxs)("form",{onSubmit:w,children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"reportTitle",className:"form-label",children:"Report Title"}),(0,a.jsx)("input",{type:"text",className:"form-control",id:"reportTitle",value:e,onChange:e=>t(e.target.value),placeholder:"Enter report title"})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{htmlFor:"reportInspector",className:"form-label",children:"inspectors"}),(0,a.jsxs)("select",{name:"userId",className:"form-control",value:f,onChange:e=>x(e.target.value),required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Inspector Type"}),p.map(e=>(0,a.jsxs)("option",{value:e.userId,children:["Inspector Type: ",e.inspectorType]},e._id))]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"reportContent",className:"form-label",children:"Report Content"}),(0,a.jsx)("textarea",{className:"form-control",id:"reportContent",rows:"10",value:r,onChange:e=>l(e.target.value),placeholder:"Write your report content here..."})]}),(0,a.jsx)("div",{className:"d-flex justify-content-end",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary d-flex align-items-center",disabled:v,children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,a.jsx)("span",{className:"ms-2",children:"Loading..."})]}):"Send Email"})})]})]})]})})}},48905:(e,t,r)=>{Promise.resolve().then(r.bind(r,35330))},57434:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},60668:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});let a="http://localhost:5200"},91867:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(29300),s=r.n(a),n=r(12115),l=r(97390),o=r(95155);let i=n.forwardRef((e,t)=>{let{bsPrefix:r,variant:a,animation:n="border",size:i,as:c="div",className:d,...u}=e;r=(0,l.oU)(r,"spinner");let m="".concat(r,"-").concat(n);return(0,o.jsx)(c,{ref:t,...u,className:s()(d,m,i&&"".concat(m,"-").concat(i),a&&"text-".concat(a))})});i.displayName="Spinner";let c=i},94553:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});let a=()=>localStorage.getItem("usertoken")},97390:(e,t,r)=>{"use strict";r.d(t,{Jm:()=>c,Wz:()=>d,gy:()=>i,oU:()=>o});var a=r(12115);r(95155);let s=a.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"}),{Consumer:n,Provider:l}=s;function o(e,t){let{prefixes:r}=(0,a.useContext)(s);return e||r[t]||t}function i(){let{breakpoints:e}=(0,a.useContext)(s);return e}function c(){let{minBreakpoint:e}=(0,a.useContext)(s);return e}function d(){let{dir:e}=(0,a.useContext)(s);return"rtl"===e}}},e=>{var t=t=>e(e.s=t);e.O(0,[3464,8441,1684,7358],()=>t(48905)),_N_E=e.O()}]);