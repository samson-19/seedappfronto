(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5826],{3226:(e,t,r)=>{Promise.resolve().then(r.bind(r,20255))},20255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(95155),s=r(12115),l=r(92809),n=r(32214),i=r(11846),c=r(68136),o=r(76355),d=r(78964),h=r(60902),p=r(91867),x=r(60926),m=r(19946);let j=(0,m.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),y=(0,m.A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var A=r(81304),u=r(57434);let v=(0,m.A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var g=r(26597),f=r(94553),N=r(23464),b=r(60668);let k=()=>{let[e,t]=(0,s.useState)({reportBody:"",reportDate:new Date().toISOString().split("T")[0],reportType:"",reportTitle:""}),[r,m]=(0,s.useState)("idle"),[k,T]=(0,s.useState)([]),[w,S]=(0,s.useState)([]),z=(0,f.b)(),C=e=>{let{name:r,value:a}=e.target;t(e=>({...e,[r]:a}))};(0,s.useEffect)(()=>{(async()=>{try{let e=await N.A.get("".concat(b.M,"/inspector_get_report_type_enum"),{headers:{Authorization:"Bearer ".concat(z)}});S(e.data.reportEnum)}catch(e){console.log("failed to get enums. Error: ".concat(e))}})()},[z]);let _=async()=>{m("saving");try{await new Promise(e=>setTimeout(e,1e3)),await N.A.post("".concat(b.M,"/inspector_create_report"),e,{headers:{Authorization:"Bearer ".concat(z)}});let t={...e,id:Date.now()};T(e=>[...e,t]),m("saved"),setTimeout(()=>m("idle"),2e3)}catch(e){m("error"),setTimeout(()=>m("idle"),2e3)}},D=()=>{let t=new g.Ay,r=t.internal.pageSize.getWidth(),a=20;t.setFontSize(18),t.text(e.reportTitle,r/2,a,{align:"center"}),a+=14,t.setFontSize(11),t.text("Type: ".concat(e.reportType.charAt(0).toUpperCase()+e.reportType.slice(1)),20,a),a+=7,t.text("Date: ".concat(new Date(e.reportBody).toLocaleDateString()),20,a),a+=14,t.setFontSize(12);let s=t.splitTextToSize(e.reportBody,r-40);a+7*s.length>t.internal.pageSize.getHeight()-20&&(t.addPage(),a=20),t.text(s,20,a),t.save("".concat(e.reportTitle.replace(/\s+/g,"_"),"_report.pdf"))};return(0,a.jsxs)(l.A,{className:"py-4",children:[(0,a.jsx)("h1",{className:"mb-4",children:"Report Generator"}),"saved"===r&&(0,a.jsxs)(n.A,{variant:"success",className:"d-flex align-items-center",children:[(0,a.jsx)(j,{size:18,className:"me-2"})," Report saved successfully!"]}),"error"===r&&(0,a.jsx)(n.A,{variant:"danger",children:"Failed to save report. Please try again."}),(0,a.jsxs)(i.A,{children:[(0,a.jsx)(c.A,{md:8,children:(0,a.jsxs)(o.A,{className:"mb-4",children:[(0,a.jsx)(o.A.Header,{children:(0,a.jsx)("h4",{children:"Create New Report"})}),(0,a.jsx)(o.A.Body,{children:(0,a.jsxs)(d.A,{children:[(0,a.jsxs)(d.A.Group,{className:"mb-3",children:[(0,a.jsx)(d.A.Label,{children:"Report Title"}),(0,a.jsx)(d.A.Control,{type:"text",name:"reportTitle",value:e.reportTitle,onChange:C,placeholder:"Enter report title"})]}),(0,a.jsxs)(i.A,{className:"mb-3",children:[(0,a.jsx)(c.A,{md:6,children:(0,a.jsxs)(d.A.Group,{children:[(0,a.jsx)(d.A.Label,{children:"Report Type"}),(0,a.jsxs)(d.A.Select,{name:"reportType",value:e.reportType,onChange:C,children:[(0,a.jsx)("option",{value:"",children:"Select Report Type"}),null==w?void 0:w.map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))]})]})}),(0,a.jsx)(c.A,{md:6,children:(0,a.jsxs)(d.A.Group,{children:[(0,a.jsx)(d.A.Label,{children:"Date"}),(0,a.jsx)(d.A.Control,{type:"date",name:"reportDate",value:e.reportDate,onChange:C})]})})]}),(0,a.jsxs)(d.A.Group,{className:"mb-3",children:[(0,a.jsx)(d.A.Label,{children:"Report Content"}),(0,a.jsx)(d.A.Control,{as:"textarea",name:"reportBody",value:e.reportBody,onChange:C,rows:10,placeholder:"Enter your report content here..."})]})]})}),(0,a.jsxs)(o.A.Footer,{className:"d-flex justify-content-end",children:[(0,a.jsx)(h.A,{variant:"primary",className:"me-2 d-flex align-items-center",onClick:_,disabled:"saving"===r,children:"saving"===r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{size:"sm",animation:"border",className:"me-2"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{size:16,className:"me-2"}),"Save to Database"]})}),(0,a.jsxs)(h.A,{variant:"success",className:"d-flex align-items-center",onClick:D,disabled:!e.reportTitle||!e.reportBody,children:[(0,a.jsx)(A.A,{size:16,className:"me-2"}),"Generate PDF"]})]})]})}),(0,a.jsx)(c.A,{md:4,children:(0,a.jsxs)(o.A,{children:[(0,a.jsx)(o.A.Header,{children:(0,a.jsx)("h4",{children:"Saved Reports"})}),(0,a.jsx)(o.A.Body,{style:{maxHeight:"400px",overflowY:"auto"},children:k.length>0?(0,a.jsxs)(x.A,{striped:!0,hover:!0,responsive:!0,children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Title"}),(0,a.jsx)("th",{children:"Type"}),(0,a.jsx)("th",{children:"Actions"})]})}),(0,a.jsx)("tbody",{children:k.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.title}),(0,a.jsx)("td",{children:e.type}),(0,a.jsxs)("td",{children:[(0,a.jsx)(h.A,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>t(e),children:(0,a.jsx)(u.A,{size:14})}),(0,a.jsx)(h.A,{variant:"outline-success",size:"sm",onClick:()=>{t(e),D()},children:(0,a.jsx)(v,{size:14})})]})]},e.id))})]}):(0,a.jsx)("p",{className:"text-muted text-center",children:"No reports saved yet"})})]})})]})]})}},32214:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(29300),s=r.n(a),l=r(12115),n=r(80612),i=r(37150),c=r(97390),o=r(58724),d=r(95155);let h=(0,o.A)("h4");h.displayName="DivStyledAsH4";let p=l.forwardRef((e,t)=>{let{className:r,bsPrefix:a,as:l=h,...n}=e;return a=(0,c.oU)(a,"alert-heading"),(0,d.jsx)(l,{ref:t,className:s()(r,a),...n})});p.displayName="AlertHeading";var x=r(29591);let m=l.forwardRef((e,t)=>{let{className:r,bsPrefix:a,as:l=x.A,...n}=e;return a=(0,c.oU)(a,"alert-link"),(0,d.jsx)(l,{ref:t,className:s()(r,a),...n})});m.displayName="AlertLink";var j=r(88839),y=r(77706);let A=l.forwardRef((e,t)=>{let{bsPrefix:r,show:a=!0,closeLabel:l="Close alert",closeVariant:o,className:h,children:p,variant:x="primary",onClose:m,dismissible:A,transition:u=j.A,...v}=(0,n.Zw)(e,{show:"onClose"}),g=(0,c.oU)(r,"alert"),f=(0,i.A)(e=>{m&&m(!1,e)}),N=!0===u?j.A:u,b=(0,d.jsxs)("div",{role:"alert",...N?void 0:v,ref:t,className:s()(h,g,x&&"".concat(g,"-").concat(x),A&&"".concat(g,"-dismissible")),children:[A&&(0,d.jsx)(y.A,{onClick:f,"aria-label":l,variant:o}),p]});return N?(0,d.jsx)(N,{unmountOnExit:!0,...v,ref:void 0,in:a,children:b}):a?b:null});A.displayName="Alert";let u=Object.assign(A,{Link:m,Heading:p})},57434:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},60668:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});let a="https://seedverify-3.onrender.com"},60926:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(29300),s=r.n(a),l=r(12115),n=r(97390),i=r(95155);let c=l.forwardRef((e,t)=>{let{bsPrefix:r,className:a,striped:l,bordered:c,borderless:o,hover:d,size:h,variant:p,responsive:x,...m}=e,j=(0,n.oU)(r,"table"),y=s()(a,j,p&&"".concat(j,"-").concat(p),h&&"".concat(j,"-").concat(h),l&&"".concat(j,"-").concat("string"==typeof l?"striped-".concat(l):"striped"),c&&"".concat(j,"-bordered"),o&&"".concat(j,"-borderless"),d&&"".concat(j,"-hover")),A=(0,i.jsx)("table",{...m,className:y,ref:t});if(x){let e="".concat(j,"-responsive");return"string"==typeof x&&(e="".concat(e,"-").concat(x)),(0,i.jsx)("div",{className:e,children:A})}return A})},94553:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});let a=()=>localStorage.getItem("usertoken")}},e=>{var t=t=>e(e.s=t);e.O(0,[3930,3464,2573,1450,5634,7876,8441,1684,7358],()=>t(3226)),_N_E=e.O()}]);