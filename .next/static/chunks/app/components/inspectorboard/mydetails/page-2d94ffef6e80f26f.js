(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6280],{19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(12115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:c="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:o("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:i,...d}=r;return(0,s.createElement)(c,{ref:l,iconNode:t,className:o("lucide-".concat(a(n(e))),"lucide-".concat(e),i),...d})});return r.displayName=n(e),r}},39952:(e,t,r)=>{"use strict";r.d(t,{GY:()=>d,Q1:()=>u,TU:()=>o,pH:()=>i,qN:()=>c});var s=r(23464),a=r(60668),l=r(94553),n=r(43416);function o(e){return async function(t){try{let r=(await s.A.post("".concat(a.M,"/user_register"),e)).data.msg;t({type:n.oi,payload:r})}catch(e){console.log("there was an issue while user logged in",e),t({type:n.w1})}}}function i(e){return async function(t){try{let r=await s.A.post("".concat(a.M,"/user_login"),e);r.data.msg?alert(r.data.msg):(localStorage.setItem("usertoken",r.data.usertoken),window.location.href="/"),t({type:n.wz})}catch(e){console.log("there was an issue while user logged in",e),t({type:n.w1})}}}function c(){return async function(e){try{let t=(0,l.b)();if(!t||null==t)return"";let r=(await s.A.get("".concat(a.M,"/user_user"),{headers:{Authorization:"Bearer ".concat(t)}})).data.user;e({type:n.NV,payload:r})}catch(t){throw console.error(t),e({type:n.wi}),t}}}function d(e){return async function(t){try{let t=await s.A.post("".concat(a.M,"/user_forgot_password"),e),r=t.data.accessToken;t.data.accessToken?window.location.href="/auth/reset/".concat(r):alert(t.data.msg)}catch(e){throw console.error(e),t({type:n.w1}),e}}}function u(e,t){return async function(r){try{let l=(await s.A.put("".concat(a.M,"/user_reset_password"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data.msg;r({type:n.Ou,payload:l})}catch(e){throw console.error(e),r({type:n.w1}),e}}}},43416:(e,t,r)=>{"use strict";r.d(t,{NV:()=>l,Ou:()=>c,oi:()=>n,s_:()=>i,w1:()=>s,wi:()=>o,wz:()=>a});let s="AUTHENTICATION_ERROR",a="LOGIN_USER",l="GET_USER",n="REGISTER_USER",o="AUTH_USER_ERROR",i="FORGOT_PASSWORD",c="RESET_PASSWORD"},56287:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},57707:(e,t,r)=>{Promise.resolve().then(r.bind(r,87205))},60668:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});let s="https://seedverify-3.onrender.com"},87205:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(95155),a=r(94553),l=r(60668),n=r(39952),o=r(23464),i=r(12115),c=r(91867),d=r(34540);r(66766);var u=r(56287),h=r(6874),m=r.n(h);function f(){var e;let t=(0,d.d4)(e=>e.userRdcr.user),[r,h]=(0,i.useState)({}),[f,p]=(0,i.useState)(!0),w=(0,a.b)(),x=(0,d.wA)();return((0,i.useEffect)(()=>{(async()=>{p(!0);try{if(await x((0,n.qN)()),(null==t?void 0:t.role)==="inspector"){let e=await o.A.get("".concat(l.M,"/inspector_get_info"),{headers:{Authorization:"Bearer ".concat(w)}});h(e.data.myInfo)}}catch(e){console.log("There was a problem while fetching the details:",e)}finally{p(!1)}})()},[x,null==t?void 0:t.role,w]),f)?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)(c.A,{animation:"border",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Details"}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[(0,s.jsx)("div",{className:"w-24 h-24 relative rounded-full overflow-hidden border-2 border-gray-200 flex-shrink-0",children:(null==t?void 0:t.userPhoto)?(0,s.jsx)("img",{src:t.userPhoto,alt:"Profile Photo",className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"bg-gray-100 w-full h-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-gray-400 text-2xl",children:(null==t?void 0:null===(e=t.fullname)||void 0===e?void 0:e.charAt(0).toUpperCase())||"?"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:(null==t?void 0:t.fullname)||"N/A"}),(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:(null==t?void 0:t.email)||"N/A"})]})]})}),(null==t?void 0:t.role)==="inspector"&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Inspector Information"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:"Inspector License"}),(0,s.jsx)("div",{className:"border rounded-lg p-2",children:(null==r?void 0:r.inspectorIdentification)?(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"font-semibold ",children:(0,s.jsxs)(m(),{href:"/components/inspectorboard/mydetails/".concat(null==r?void 0:r._id),children:[(0,s.jsx)(u.A,{size:24,className:"text-primary mb-2"}),"update licence photo"]})})}),(0,s.jsx)("img",{src:null==r?void 0:r.inspectorIdentification,alt:"Inspector License",className:"max-h-64 object-contain"})]}):(0,s.jsx)("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-gray-400",children:"No license document available"})})})]})})]})]})}},94553:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});let s=()=>localStorage.getItem("usertoken")}},e=>{var t=t=>e(e.s=t);e.O(0,[3464,6874,4540,9066,8441,1684,7358],()=>t(57707)),_N_E=e.O()}]);