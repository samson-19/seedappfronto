(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9090],{32214:(e,t,a)=>{"use strict";a.d(t,{A:()=>j});var s=a(29300),r=a.n(s),l=a(12115),d=a(80612),i=a(37150),n=a(97390),c=a(58724),o=a(95155);let u=(0,c.A)("h4");u.displayName="DivStyledAsH4";let h=l.forwardRef((e,t)=>{let{className:a,bsPrefix:s,as:l=u,...d}=e;return s=(0,n.oU)(s,"alert-heading"),(0,o.jsx)(l,{ref:t,className:r()(a,s),...d})});h.displayName="AlertHeading";var m=a(29591);let b=l.forwardRef((e,t)=>{let{className:a,bsPrefix:s,as:l=m.A,...d}=e;return s=(0,n.oU)(s,"alert-link"),(0,o.jsx)(l,{ref:t,className:r()(a,s),...d})});b.displayName="AlertLink";var x=a(88839),p=a(77706);let v=l.forwardRef((e,t)=>{let{bsPrefix:a,show:s=!0,closeLabel:l="Close alert",closeVariant:c,className:u,children:h,variant:m="primary",onClose:b,dismissible:v,transition:j=x.A,...A}=(0,d.Zw)(e,{show:"onClose"}),f=(0,n.oU)(a,"alert"),y=(0,i.A)(e=>{b&&b(!1,e)}),N=!0===j?x.A:j,g=(0,o.jsxs)("div",{role:"alert",...N?void 0:A,ref:t,className:r()(u,f,m&&"".concat(f,"-").concat(m),v&&"".concat(f,"-dismissible")),children:[v&&(0,o.jsx)(p.A,{onClick:y,"aria-label":l,variant:c}),h]});return N?(0,o.jsx)(N,{unmountOnExit:!0,...A,ref:void 0,in:s,children:g}):s?g:null});v.displayName="Alert";let j=Object.assign(v,{Link:b,Heading:h})},43881:(e,t,a)=>{Promise.resolve().then(a.bind(a,95367))},60668:(e,t,a)=>{"use strict";a.d(t,{M:()=>s});let s="http://localhost:5200"},60902:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(29300),r=a.n(s),l=a(12115),d=a(32960),i=a(97390),n=a(95155);let c=l.forwardRef((e,t)=>{let{as:a,bsPrefix:s,variant:l="primary",size:c,active:o=!1,disabled:u=!1,className:h,...m}=e,b=(0,i.oU)(s,"btn"),[x,{tagName:p}]=(0,d.Am)({tagName:a,disabled:u,...m});return(0,n.jsx)(p,{...x,...m,ref:t,disabled:u,className:r()(h,b,o&&"active",l&&"".concat(b,"-").concat(l),c&&"".concat(b,"-").concat(c),m.href&&u&&"disabled")})});c.displayName="Button";let o=c},94553:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});let s=()=>localStorage.getItem("usertoken")},95367:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(95155),r=a(94553),l=a(60668),d=a(23464),i=a(12115),n=a(92809),c=a(91867),o=a(78964),u=a(32214),h=a(60902);function m(){var e,t;let[a,m]=(0,i.useState)([]),[b,x]=(0,i.useState)(!0),[p,v]=(0,i.useState)(""),[j,A]=(0,i.useState)(""),[f,y]=(0,i.useState)({batchId:"",seedId:""}),[N,g]=(0,i.useState)(!1),[S,_]=(0,i.useState)({text:"",type:""}),w=(0,r.b)();(0,i.useEffect)(()=>{(async()=>{try{x(!0);let e=await d.A.get("".concat(l.M,"/seeds_and_batches_inspector"),{headers:{Authorization:"Bearer ".concat(w)}});m(e.data.seedsWithBatches),x(!1)}catch(e){console.error("Error fetching seeds data:",e),_({text:"Failed to load seeds data",type:"danger"}),x(!1)}})()},[w]);let E=async e=>{if(e.preventDefault(),!f.seedId||!f.batchId){_({text:"Please select both a seed and a batch",type:"danger"});return}try{g(!0),await d.A.post("".concat(l.M,"/add_batches"),f,{headers:{Authorization:"Bearer ".concat(w)}}),_({text:"Data submitted successfully!",type:"success"}),v(""),A(""),y({batchId:"",seedId:""}),g(!1)}catch(e){var t,a;console.error("Error submitting data:",e),_({text:(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.msg)||"Failed to submit data",type:"danger"}),g(!1)}},I=(null===(t=a.find(e=>e.seed._id===p))||void 0===t?void 0:null===(e=t.batches[0])||void 0===e?void 0:e.batchDetails)||[];return(0,s.jsxs)(n.A,{className:"py-4",children:[(0,s.jsx)("h2",{className:"mb-4",children:"Enter Seed Batch Data"}),b?(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(c.A,{animation:"border",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,s.jsxs)(o.A,{onSubmit:E,className:"bg-white p-4 border rounded shadow-sm",children:[S.text&&(0,s.jsx)(u.A,{variant:S.type,dismissible:!0,onClose:()=>_({text:"",type:""}),children:S.text}),(0,s.jsxs)(o.A.Group,{className:"mb-3",children:[(0,s.jsx)(o.A.Label,{children:"Select Seed"}),(0,s.jsxs)(o.A.Select,{value:p,onChange:e=>{let t=e.target.value;v(t),A(""),y({...f,seedId:t,batchId:""})},required:!0,children:[(0,s.jsx)("option",{value:"",children:"-- Select a Seed --"}),a.map(e=>(0,s.jsxs)("option",{value:e.seed._id,children:[e.seed.seedName," - ",e.seed.seedManufacturer]},e.seed._id))]})]}),(0,s.jsxs)(o.A.Group,{className:"mb-4",children:[(0,s.jsx)(o.A.Label,{children:"Select Batch"}),(0,s.jsxs)(o.A.Select,{value:j,onChange:e=>{let t=e.target.value;A(t),y({...f,batchId:t})},disabled:!p,required:!0,children:[(0,s.jsx)("option",{value:"",children:"-- Select a Batch --"}),I.map(e=>(0,s.jsxs)("option",{value:e._id,children:[e.batchName," - Expires: ",new Date(e.batchExpireDate).toLocaleDateString()]},e._id))]}),!p&&(0,s.jsx)(o.A.Text,{className:"text-muted",children:"Please select a seed first"})]}),(0,s.jsx)("div",{className:"d-flex justify-content-end",children:(0,s.jsx)(h.A,{type:"submit",variant:"primary",disabled:N||!p||!j,children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{as:"span",animation:"border",size:"sm",className:"me-2"}),"Submitting..."]}):"Submit"})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3464,2573,1450,5634,8441,1684,7358],()=>t(43881)),_N_E=e.O()}]);