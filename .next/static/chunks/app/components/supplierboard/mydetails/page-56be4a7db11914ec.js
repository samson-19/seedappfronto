(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{6654:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=l(12115);function s(e,t){let l=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=l.current;e&&(l.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(l.current=a(e,r)),t&&(s.current=a(t,r))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let l=e(t);return"function"==typeof l?l:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},12601:(e,t,l)=>{Promise.resolve().then(l.bind(l,44650))},39952:(e,t,l)=>{"use strict";l.d(t,{GY:()=>u,Q1:()=>d,TU:()=>c,pH:()=>i,qN:()=>o});var r=l(23464),s=l(60668),a=l(94553),n=l(43416);function c(e){return async function(t){try{let l=(await r.A.post("".concat(s.M,"/user_register"),e)).data.msg;t({type:n.oi,payload:l})}catch(e){console.log("there was an issue while user logged in",e),t({type:n.w1})}}}function i(e){return async function(t){try{let l=await r.A.post("".concat(s.M,"/user_login"),e);l.data.msg?alert(l.data.msg):(localStorage.setItem("usertoken",l.data.usertoken),window.location.href="/"),t({type:n.wz})}catch(e){console.log("there was an issue while user logged in",e),t({type:n.w1})}}}function o(){return async function(e){try{let t=(0,a.b)();if(!t||null==t)return"";let l=(await r.A.get("".concat(s.M,"/user_user"),{headers:{Authorization:"Bearer ".concat(t)}})).data.user;e({type:n.NV,payload:l})}catch(t){throw console.error(t),e({type:n.wi}),t}}}function u(e){return async function(t){try{let t=await r.A.post("".concat(s.M,"/user_forgot_password"),e),l=t.data.accessToken;t.data.accessToken?window.location.href="/auth/reset/".concat(l):alert(t.data.msg)}catch(e){throw console.error(e),t({type:n.w1}),e}}}function d(e,t){return async function(l){try{let a=(await r.A.put("".concat(s.M,"/user_reset_password"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data.msg;l({type:n.Ou,payload:a})}catch(e){throw console.error(e),l({type:n.w1}),e}}}},43416:(e,t,l)=>{"use strict";l.d(t,{NV:()=>a,Ou:()=>o,oi:()=>n,s_:()=>i,w1:()=>r,wi:()=>c,wz:()=>s});let r="AUTHENTICATION_ERROR",s="LOGIN_USER",a="GET_USER",n="REGISTER_USER",c="AUTH_USER_ERROR",i="FORGOT_PASSWORD",o="RESET_PASSWORD"},44650:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>d});var r=l(95155),s=l(94553),a=l(60668),n=l(39952),c=l(23464),i=l(12115),o=l(91867),u=l(34540);function d(){var e;let t=(0,u.d4)(e=>e.userRdcr.user),[l,d]=(0,i.useState)({}),[f,h]=(0,i.useState)(!0),p=(0,s.b)(),m=(0,u.wA)();return((0,i.useEffect)(()=>{(async()=>{h(!0);try{if(await m((0,n.qN)()),(null==t?void 0:t.role)==="supplier"){let e=await c.A.get("".concat(a.M,"/supplier_get_info"),{headers:{Authorization:"Bearer ".concat(p)}});d(e.data.myInfo)}}catch(e){console.log("There was a problem while fetching the details:",e)}finally{h(!1)}})()},[m,null==t?void 0:t.role,p]),f)?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(o.A,{animation:"border",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Details"}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[(0,r.jsx)("div",{className:"w-24 h-24 relative rounded-full overflow-hidden border-2 border-gray-200 flex-shrink-0",children:(null==t?void 0:t.userPhoto)?(0,r.jsx)("img",{src:t.userPhoto,alt:"Profile Photo",className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"bg-gray-100 w-full h-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400 text-2xl",children:(null==t?void 0:null===(e=t.fullname)||void 0===e?void 0:e.charAt(0).toUpperCase())||"?"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:(null==t?void 0:t.fullname)||"N/A"}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:(null==t?void 0:t.email)||"N/A"})]})]})}),(null==t?void 0:t.role)==="supplier"&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Supplier Information"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:"Supplier License"}),(0,r.jsx)("div",{className:"border rounded-lg p-2",children:(null==l?void 0:l.supplierLicence)?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("img",{src:l.supplierLicence,alt:"Supplier License",className:"max-h-64 object-contain"})}):(0,r.jsx)("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-400",children:"No license document available"})})})]})})]})]})}l(66766)},60668:(e,t,l)=>{"use strict";l.d(t,{M:()=>r});let r="https://seedverify-3.onrender.com"},94553:(e,t,l)=>{"use strict";l.d(t,{b:()=>r});let r=()=>localStorage.getItem("usertoken")}},e=>{var t=t=>e(e.s=t);e.O(0,[3464,4540,9066,8441,1684,7358],()=>t(12601)),_N_E=e.O()}]);