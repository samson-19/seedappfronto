(()=>{var e={};e.id=4592,e.ids=[4592],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4536:(e,s,t)=>{let{createProxy:r}=t(39844);e.exports=r("C:\\Users\\MR.PC\\OneDrive\\Desktop\\seed-app\\front\\node_modules\\next\\dist\\client\\app-dir\\link.js")},8682:(e,s,t)=>{Promise.resolve().then(t.bind(t,53041))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},24121:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(37413),a=t(4536),n=t.n(a);function i(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Not Found"}),(0,r.jsx)("p",{children:"Could not find requested resource"}),(0,r.jsx)(n(),{href:"/",children:"Return Home"})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37875:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\MR.PC\\\\OneDrive\\\\Desktop\\\\seed-app\\\\front\\\\app\\\\components\\\\adminboard\\\\seeds\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\MR.PC\\OneDrive\\Desktop\\seed-app\\front\\app\\components\\adminboard\\seeds\\page.js","default")},38922:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=t(65239),a=t(48088),n=t(88170),i=t.n(n),d=t(30893),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);t.d(s,o);let l={children:["",{children:["components",{children:["adminboard",{children:["seeds",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,37875)),"C:\\Users\\MR.PC\\OneDrive\\Desktop\\seed-app\\front\\app\\components\\adminboard\\seeds\\page.js"]}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.bind(t,24121)),"C:\\Users\\MR.PC\\OneDrive\\Desktop\\seed-app\\front\\app\\components\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32648)),"C:\\Users\\MR.PC\\OneDrive\\Desktop\\seed-app\\front\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\MR.PC\\OneDrive\\Desktop\\seed-app\\front\\app\\components\\adminboard\\seeds\\page.js"],p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/components/adminboard/seeds/page",pathname:"/components/adminboard/seeds",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},45687:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,4536,23))},46055:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},53041:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(60687),a=t(99611),n=t(96755),i=t(51060),d=t(43210);function o(){let[e,s]=(0,d.useState)([]),[t,o]=(0,d.useState)(!0),[l,c]=(0,d.useState)(null),[p,u]=(0,d.useState)("all"),[h,m]=(0,d.useState)({}),x=(0,a.b)(),b=async()=>{try{o(!0),c(null);let e=`${n.M}/seeds-with-batches`;"all"!==p&&(e=`${n.M}/seeds/type/${p}`);let t=await i.A.get(e,{headers:{Authorization:`Bearer ${x}`}});s(t.data.seedsWithBatches),o(!1)}catch(e){console.error("Error fetching seeds with batches:",e),c("Failed to load seeds and batches. Please try again later."),o(!1)}},j=e=>{m(s=>({...s,[e]:!s[e]}))},f=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),v=e=>{switch(e){case"approved":return"bg-success";case"pending":return"bg-warning text-dark";case"quarantine":return"bg-danger";case"expired":return"bg-secondary";default:return"bg-info"}};return(0,r.jsxs)("div",{className:"container mt-4",children:[(0,r.jsx)("h2",{className:"mb-4",children:"Seeds and Batches"}),(0,r.jsxs)("div",{className:"row mb-4",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"seedTypeFilter",children:"Filter by Seed Type:"}),(0,r.jsxs)("select",{id:"seedTypeFilter",className:"form-select",value:p,onChange:e=>u(e.target.value),children:[(0,r.jsx)("option",{value:"all",children:"All Types"}),(0,r.jsx)("option",{value:"vegetable",children:"Vegetable"}),(0,r.jsx)("option",{value:"rice",children:"Rice"}),(0,r.jsx)("option",{value:"maize",children:"Maize"})]})]})}),(0,r.jsx)("div",{className:"col-md-8 d-flex align-items-end justify-content-end",children:(0,r.jsx)("button",{className:"btn btn-primary",onClick:b,disabled:t,children:t?"Loading...":"Refresh"})})]}),l&&(0,r.jsx)("div",{className:"alert alert-danger",children:l}),t?(0,r.jsx)("div",{className:"d-flex justify-content-center my-5",children:(0,r.jsx)("div",{className:"spinner-border",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===e.length?(0,r.jsx)("div",{className:"alert alert-info",children:"No seeds found for the selected filter."}):(0,r.jsx)("div",{className:"row",children:e.map(e=>(0,r.jsx)("div",{className:"col-12 mb-4",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h5",{className:"mb-0",children:[(0,r.jsx)("span",{className:"fw-bold",children:e.seedName}),(0,r.jsx)("span",{className:`badge ms-2 ${v(e.seedStatus)}`,children:e.seedStatus})]}),(0,r.jsxs)("small",{className:"text-muted",children:["Type: ",(0,r.jsx)("span",{className:"badge bg-info",children:e.seedType})," • Manufacturer: ",e.seedManufacturer," • Added: ",f(e.createdAt)]})]}),(0,r.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>j(e._id),children:h[e._id]?"Hide Batches":"Show Batches"})]}),h[e._id]&&(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h6",{className:"card-subtitle mb-3",children:["Batches (",e.batches?.length||0,")"]}),e.batches?.length>0?(0,r.jsx)("div",{className:"table-responsive",children:(0,r.jsxs)("table",{className:"table table-hover",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Batch Name"}),(0,r.jsx)("th",{children:"Manufactured"}),(0,r.jsx)("th",{children:"Made At"}),(0,r.jsx)("th",{children:"Expires On"}),(0,r.jsx)("th",{children:"Status"})]})}),(0,r.jsx)("tbody",{children:e.batches.flatMap(e=>e.batchDetails.map((s,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s.batchName}),(0,r.jsx)("td",{children:f(s.batchManufactured)}),(0,r.jsx)("td",{children:s.batchMadeAt}),(0,r.jsxs)("td",{children:[f(s.batchExpireDate),new Date(s.batchExpireDate)<new Date&&(0,r.jsx)("span",{className:"badge bg-danger ms-2",children:"Expired"})]}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:`badge ${v(s.batchStatus)}`,children:s.batchStatus})})]},`${e._id}-${t}`)))})]})}):(0,r.jsx)("p",{className:"card-text text-muted",children:"No batches found for this seed."})]})]})},e._id))})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82479:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,85814,23))},83997:e=>{"use strict";e.exports=require("tty")},90530:(e,s,t)=>{Promise.resolve().then(t.bind(t,37875))},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,6380,1658,1142],()=>t(38922));module.exports=r})();